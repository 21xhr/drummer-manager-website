<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="data:,">

    <title>Drummer Manager Game - FAQ</title>

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@700&family=Roboto:wght@400;700&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    
    <link rel="stylesheet" href="../css/global.css">
    <link rel="stylesheet" href="../css/faq.css">

    <script src="/js/social-links.js" defer></script>
</head>
<body class="faq-body">
    <div class="faq-main-container">
        <h1 class="faq-main-title neon-text">
            HOW TO PLAY
        </h1>

        <div class="tab-navigation-container">
            <button class="tab-button active" data-tab="faq">FAQ</button>
            <button class="tab-button" data-tab="missions">MISSIONS</button>
        </div>
        
        <div class="faq-content-wrapper">
            <div id="faq" class="tab-content">
                <div class="interactive-question-container">
                    <div id="question-container" class="faq-question-box"></div>
                    <div id="answer-container" class="faq-answer-box hidden"></div>
                    <div id="buttons-container" class="faq-buttons-box hidden"></div>
                    
                    <div id="cta-container" class="cta-box hidden">
                        <h3>Ready to Get Involved?</h3>
                        <p class="roboto">Join our community or support the stream to help shape the future of Drummer Manager!</p>
                        <div class="cta-social-links">
                            <a href="https://discord.gg/av9bpn6Zhp" target="_blank" aria-label="Join Discord" class="social-link">
                                <i class="fab fa-discord"></i>
                            </a>
                            <a href="https://drummer-manager-website.vercel.app/donation" target="_blank" aria-label="Make a Donation" class="social-link">
                                <i class="fa-solid fa-mug-hot"></i>
                            </a>
                        </div>
                    </div>

                    <div id="navigation-container" class="faq-nav-container">
                         <div class="nav-arrows">
                             <a href="https://drummer-manager-website.vercel.app/" id="home-btn" class="arrow-button">
                                 <i class="fa-solid fa-house"></i>
                             </a>
                             <button id="prev-btn" class="arrow-button">
                                 <i class="fa-solid fa-arrow-left"></i>
                             </a>
                         </div>
                         <div id="page-indicator" class="page-count"></div>
                    </div>
                </div>
            </div>

            <div id="missions" class="tab-content hidden">
                <div class="under-construction-box">
                    <h3>THE FUTURE IS UNDER CONSTRUCTION</h3>
                    <p class="roboto">We're building the suggestion system and community missions!</p>
                    <a href="https://discord.gg/av9bpn6Zhp" target="_blank" class="primary-submit-btn">
                        Join the community
                    </a>
                </div>
            </div>
        </div>
    </div>
    
    <social-links></social-links>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const tabs = document.querySelectorAll('.tab-button');
            const tabContents = document.querySelectorAll('.tab-content');
            const questionContainer = document.getElementById('question-container');
            const answerContainer = document.getElementById('answer-container');
            const buttonsContainer = document.getElementById('buttons-container');
            const ctaContainer = document.getElementById('cta-container');
            const prevBtn = document.getElementById('prev-btn');
            const pageIndicator = document.getElementById('page-indicator');
            const navigationContainer = document.getElementById('navigation-container');

            let currentFaqIndex = 0;

            const faqs = [
                {
                    id: 'start',
                    question: 'Why is the 21 so important?',
                    answer: 'The "21" is the foundation of our brand. It\'s a commitment to authenticity and an unwavering drive to push boundaries, and a symbol that is a driving force for the community we\'re building.',
                    buttonText: 'Wow ðŸ‘Œ',
                    renderAsHTML: false,
                },
                {
                    id: 'next-1',
                    question: 'What are "NUMBERS"?',
                    answer: '"NUMBERS" are your Influence Points. Earn them by engaging with the stream and use them to make real-time decisions that impact the game.',
                    buttonText: 'I want to get NUMBERS!',
                    renderAsHTML: false,
                },
                {
                    id: 'next-2',
                    question: 'How can I get NUMBERS and support the stream?',
                    answer: {
                        intro: 'You earn **NUMBERS** through three primary participative methods:',
                        list: [
                            '**Traditional**: By watching the stream, participating in the chat, collaborating on community goals, and following 21 on all platforms.',
                            '**Financial**: By becoming a member or donating.',
                            '**Creative**: (more details to come).',
                        ]
                    },
                    buttonText: 'Let\'s gooooooooooooooooooooo!',
                    renderAsHTML: true,
                }
            ];
            const totalFaqs = faqs.length + 1;

            const displayFAQ = (index) => {
                if (index < 0) {
                    currentFaqIndex = 0;
                } else if (index >= faqs.length) {
                    questionContainer.classList.add('hidden');
                    answerContainer.classList.add('hidden');
                    buttonsContainer.classList.add('hidden');
                    ctaContainer.classList.remove('hidden');
                    pageIndicator.classList.add('hidden');
                    prevBtn.style.display = 'flex';
                    return;
                } else {
                    currentFaqIndex = index;
                }
                
                const faqItem = faqs[currentFaqIndex];
                pageIndicator.textContent = `${currentFaqIndex + 1} of ${totalFaqs}`;
                pageIndicator.classList.remove('hidden');
                
                prevBtn.style.display = currentFaqIndex > 0 ? 'flex' : 'none';
                
                questionContainer.innerHTML = `<h3>${faqItem.question}</h3>`;
                answerContainer.innerHTML = '';
                
                if (faqItem.renderAsHTML) {
                    const introPara = document.createElement('p');
                    introPara.className = 'roboto interactive-answer';
                    introPara.innerHTML = faqItem.answer.intro.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>');
                    answerContainer.appendChild(introPara);

                    const list = document.createElement('ul');
                    list.className = 'custom-list roboto';
                    faqItem.answer.list.forEach(itemText => {
                        const li = document.createElement('li');
                        li.className = 'interactive-answer';
                        li.innerHTML = itemText.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>');
                        list.appendChild(li);
                    });
                    answerContainer.appendChild(list);
                } else {
                    const para = document.createElement('p');
                    para.className = 'roboto interactive-answer';
                    para.innerHTML = faqItem.answer.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>');
                    answerContainer.appendChild(para);
                }
                
                answerContainer.classList.remove('hidden');
                buttonsContainer.classList.remove('hidden');
                navigationContainer.classList.remove('hidden');
                ctaContainer.classList.add('hidden');
                questionContainer.classList.remove('hidden');

                buttonsContainer.innerHTML = '';
                const button = document.createElement('button');
                button.textContent = faqItem.buttonText;
                button.className = 'primary-submit-btn faq-action-btn';
                button.onclick = () => displayFAQ(currentFaqIndex + 1);
                buttonsContainer.appendChild(button);
            };
            
            tabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    const target = tab.dataset.tab;
                    tabs.forEach(t => t.classList.remove('active'));
                    tabContents.forEach(content => content.classList.add('hidden'));
                    tab.classList.add('active');
                    document.getElementById(target).classList.remove('hidden');
                });
            });

            prevBtn.addEventListener('click', () => displayFAQ(currentFaqIndex - 1));
            displayFAQ(0);
        });
    </script>
</body>
</html>